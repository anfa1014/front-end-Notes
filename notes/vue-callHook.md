
![](../img/vue4.png)

Vue给一个vue实例在生命周期中设置了一些钩子函数，在源码中实际调用方式如上

![](../img/vue5.png)

callHook的开始和结束调用了pushTarger和popTarget，两个函数来自于observer，我猜是响应式的收集和分发依赖有关，先不看

- 方块1
    - vue实例化最开始会进行合并参数，vm.$options是我们实例化传入的参数 
    - 通常传入的钩子属性是一个函数，在vue内部会转换为一个数组，那么在创建实例传参时，钩子属性为一个数组也是没有问题
    - 为什么要把传入的钩子函数，要转为数组？ 参考async-validtor源码，应该是统一了数据处理的方式
- 方块2
    - 真正执行钩子函数
    - 若执行的不是函数，会报错